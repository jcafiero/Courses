{"ast":null,"code":"var _jsxFileName = \"/Users/jcafiero/Code/CS554/Lab6/ChuckNorris/client/src/components/DeleteQuote.js\";\nimport React, { Component } from \"react\"; //Import Query from react-apollo\n\nimport { Mutation } from \"react-apollo\";\nimport ReactModal from \"react-modal\"; //Import the file where my query constants are defined\n\nimport queries from \"../../queries\"; //For react-modal\n\nReactModal.setAppElement(\"#root\");\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"50%\",\n    border: \"1px solid #28547a\",\n    borderRadius: \"4px\"\n  }\n};\n/* The React Apollo package grants access to a Query component, which takes a query as prop and executes it when its rendered. \nThat’s the important part: it executes the query when it is rendered. \nIt uses React’s render props pattern, using a child as a function implementation where you can access the result of the query as an argument.\n*/\n\nclass DeleteQuote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDeleteModal: this.props.isOpen,\n      employee: this.props.deleteEmployee\n    };\n    this.handleOpenDeleteModal = this.handleOpenDeleteModal.bind(this);\n    this.handleCloseDeleteModal = this.handleCloseDeleteModal.bind(this);\n    console.log(this.state.employee);\n  }\n\n  handleOpenDeleteModal() {\n    this.setState({\n      showDeleteModal: true\n    });\n  }\n\n  handleCloseDeleteModal() {\n    this.setState({\n      showDeleteModal: false\n    });\n    this.props.handleClose(false);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(ReactModal, {\n      name: \"deleteModal\",\n      isOpen: this.state.showDeleteModal,\n      contentLabel: \"Delete Employee\",\n      style: customStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: queries.DELETE_EMPLOYEE,\n      update: (cache, {\n        data: {\n          removeEmployee\n        }\n      }) => {\n        const _cache$readQuery = cache.readQuery({\n          query: queries.GET_EMPLOYEES\n        }),\n              employees = _cache$readQuery.employees;\n\n        cache.writeQuery({\n          query: queries.GET_EMPLOYEES,\n          data: {\n            employees: employees.filter(e => e.id !== this.state.employee.id)\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, (removeEmployee, {\n      data\n    }) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Are you sure you want to delete\", \" \", this.state.employee.firstName, \" \", this.state.employee.lastName, \"?\"), React.createElement(\"form\", {\n      className: \"form\",\n      id: \"delete-employee\",\n      onSubmit: e => {\n        e.preventDefault();\n        removeEmployee({\n          variables: {\n            id: this.state.employee.id\n          }\n        });\n        this.setState({\n          showDeleteModal: false\n        });\n        alert(\"Employee Deleted\");\n        this.props.handleClose();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button add-button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Delete Employee\")))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button cancel-button\",\n      onClick: this.handleCloseDeleteModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Cancel\")));\n  }\n\n}\n\nexport default DeleteQuote;","map":{"version":3,"sources":["/Users/jcafiero/Code/CS554/Lab6/ChuckNorris/client/src/components/DeleteQuote.js"],"names":["React","Component","Mutation","ReactModal","queries","setAppElement","customStyles","content","top","left","right","bottom","marginRight","transform","width","border","borderRadius","DeleteQuote","constructor","props","state","showDeleteModal","isOpen","employee","deleteEmployee","handleOpenDeleteModal","bind","handleCloseDeleteModal","console","log","setState","handleClose","render","DELETE_EMPLOYEE","cache","data","removeEmployee","readQuery","query","GET_EMPLOYEES","employees","writeQuery","filter","e","id","firstName","lastName","preventDefault","variables","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//Import Query from react-apollo\nimport { Mutation } from \"react-apollo\";\nimport ReactModal from \"react-modal\";\n\n//Import the file where my query constants are defined\nimport queries from \"../../queries\";\n\n//For react-modal\nReactModal.setAppElement(\"#root\");\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"50%\",\n    border: \"1px solid #28547a\",\n    borderRadius: \"4px\"\n  }\n};\n\n/* The React Apollo package grants access to a Query component, which takes a query as prop and executes it when its rendered. \nThat’s the important part: it executes the query when it is rendered. \nIt uses React’s render props pattern, using a child as a function implementation where you can access the result of the query as an argument.\n*/\nclass DeleteQuote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDeleteModal: this.props.isOpen,\n      employee: this.props.deleteEmployee\n    };\n    this.handleOpenDeleteModal = this.handleOpenDeleteModal.bind(this);\n    this.handleCloseDeleteModal = this.handleCloseDeleteModal.bind(this);\n    console.log(this.state.employee);\n  }\n\n  handleOpenDeleteModal() {\n    this.setState({ showDeleteModal: true });\n  }\n\n  handleCloseDeleteModal() {\n    this.setState({ showDeleteModal: false });\n    this.props.handleClose(false);\n  }\n  render() {\n    return (\n      <div>\n        {/*Add Employee Modal */}\n        <ReactModal\n          name=\"deleteModal\"\n          isOpen={this.state.showDeleteModal}\n          contentLabel=\"Delete Employee\"\n          style={customStyles}\n        >\n          {/*Here we set up the mutation, since I want the data on the page to update\n\t\t\t\t\t\tafter I have added someone, I need to update the cache. If not then\n\t\t\t\t\t\tI need to refresh the page to see the data updated \n\t\t\t\t\t\tSee: https://www.apollographql.com/docs/react/essentials/mutations for more\n\t\t\t\t\t\tinformation on Mutations\n\t\t\t\t\t*/}\n          <Mutation\n            mutation={queries.DELETE_EMPLOYEE}\n            update={(cache, { data: { removeEmployee } }) => {\n              const { employees } = cache.readQuery({\n                query: queries.GET_EMPLOYEES\n              });\n              cache.writeQuery({\n                query: queries.GET_EMPLOYEES,\n                data: {\n                  employees: employees.filter(\n                    e => e.id !== this.state.employee.id\n                  )\n                }\n              });\n            }}\n          >\n            {(removeEmployee, { data }) => (\n              <div>\n                <p>\n                  Are you sure you want to delete{\" \"}\n                  {this.state.employee.firstName} {this.state.employee.lastName}\n                  ?\n                </p>\n\n                <form\n                  className=\"form\"\n                  id=\"delete-employee\"\n                  onSubmit={e => {\n                    e.preventDefault();\n                    removeEmployee({\n                      variables: {\n                        id: this.state.employee.id\n                      }\n                    });\n                    this.setState({ showDeleteModal: false });\n                    alert(\"Employee Deleted\");\n                    this.props.handleClose();\n                  }}\n                >\n                  <br />\n                  <br />\n                  <button className=\"button add-button\" type=\"submit\">\n                    Delete Employee\n                  </button>\n                </form>\n              </div>\n            )}\n          </Mutation>\n          <br />\n          <br />\n          <button\n            className=\"button cancel-button\"\n            onClick={this.handleCloseDeleteModal}\n          >\n            Cancel\n          </button>\n        </ReactModal>\n      </div>\n    );\n  }\n}\n\nexport default DeleteQuote;"]},"metadata":{},"sourceType":"module"}
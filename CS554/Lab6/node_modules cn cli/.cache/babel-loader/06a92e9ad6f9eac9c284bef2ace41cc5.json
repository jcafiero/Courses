{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/jcafiero/Code/CS554/Lab6/ChuckNorris/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jcafiero/Code/CS554/Lab6/ChuckNorris/client/src/components/DeleteQuote.js\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  query {\\n    quotes {\\n      id\\n      quote\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  mutation deleteQuote($id: String!) {\\n    deleteQuote(\\n      input: {\\n        id: $id\\n      }\\n    ){\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport ReactModal from \"react-modal\";\nimport gql from 'graphql-tag';\nconst deleteQuote = gql(_templateObject());\nconst getAll = gql(_templateObject2());\nReactModal.setAppElement(\"#root\");\n\nclass DeleteQuote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDeleteQuote: this.props.isOpen,\n      quote: this.props.deleteQuote\n    };\n    this.handleOpenDeleteQuote = this.handleOpenDeleteQuote.bind(this);\n    this.handleCloseDeleteQuote = this.handleCloseDeleteQuote.bind(this);\n    console.log(this.state.quote);\n  }\n\n  handleOpenDeleteQuote() {\n    this.setState({\n      showDeleteQuote: true\n    });\n  }\n\n  handleCloseDeleteQuote() {\n    this.setState({\n      showDeleteQuote: false\n    });\n    this.props.handleClose(false);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(ReactModal, {\n      name: \"deleteQuote\",\n      isOpen: this.state.showDeleteQuote,\n      contentLabel: \"Delete Quote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: deleteQuote,\n      update: (cache, {\n        data: {\n          deleteQuote\n        }\n      }) => {\n        const _cache$readQuery = cache.readQuery({\n          query: getAll\n        }),\n              quotes = _cache$readQuery.quotes;\n\n        cache.writeQuery({\n          query: getAll,\n          data: {\n            quotes: quotes.filter(q => q.id !== this.state.quote.id)\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, (deleteQuote, {\n      data\n    }) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Are you sure you want to delete\", \" \", this.state.quote.quote, \"?\"), React.createElement(\"form\", {\n      className: \"form\",\n      id: \"delete-quote\",\n      onSubmit: e => {\n        e.preventDefault();\n        deleteQuote({\n          variables: {\n            id: this.state.quote.id\n          }\n        });\n        this.setState({\n          showDeleteQuote: false\n        });\n        alert(\"Quote Deleted\");\n        this.props.handleClose();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Delete Quote\")))), React.createElement(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: this.handleCloseDeleteQuote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Cancel\")));\n  }\n\n}\n\nexport default DeleteQuote;","map":{"version":3,"sources":["/Users/jcafiero/Code/CS554/Lab6/ChuckNorris/client/src/components/DeleteQuote.js"],"names":["React","Component","Mutation","ReactModal","gql","deleteQuote","getAll","setAppElement","DeleteQuote","constructor","props","state","showDeleteQuote","isOpen","quote","handleOpenDeleteQuote","bind","handleCloseDeleteQuote","console","log","setState","handleClose","render","cache","data","readQuery","query","quotes","writeQuery","filter","q","id","e","preventDefault","variables","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport ReactModal from \"react-modal\";\nimport gql from 'graphql-tag';\n\nconst deleteQuote = gql`\n  mutation deleteQuote($id: String!) {\n    deleteQuote(\n      input: {\n        id: $id\n      }\n    ){\n      id\n    }\n  }\n`;\n\nconst getAll = gql`\n  query {\n    quotes {\n      id\n      quote\n    }\n  }\n`;\n\nReactModal.setAppElement(\"#root\");\n\nclass DeleteQuote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDeleteQuote: this.props.isOpen,\n      quote: this.props.deleteQuote\n    };\n    this.handleOpenDeleteQuote = this.handleOpenDeleteQuote.bind(this);\n    this.handleCloseDeleteQuote = this.handleCloseDeleteQuote.bind(this);\n    console.log(this.state.quote);\n  }\n\n  handleOpenDeleteQuote() {\n    this.setState({ showDeleteQuote: true });\n  }\n\n  handleCloseDeleteQuote() {\n    this.setState({ showDeleteQuote: false });\n    this.props.handleClose(false);\n  }\n  render() {\n    return (\n      <div>\n        {/*Add Employee Modal */}\n        <ReactModal\n          name=\"deleteQuote\"\n          isOpen={this.state.showDeleteQuote}\n          contentLabel=\"Delete Quote\"\n        >\n          <Mutation\n            mutation={deleteQuote}\n            update={(cache, { data: { deleteQuote } }) => {\n              const { quotes } = cache.readQuery({\n                query: getAll\n              });\n              cache.writeQuery({\n                query: getAll,\n                data: {\n                  quotes: quotes.filter(\n                    q => q.id !== this.state.quote.id\n                  )\n                }\n              });\n            }}\n          >\n            {(deleteQuote, { data }) => (\n              <div>\n                <p>\n                  Are you sure you want to delete{\" \"}\n                  {this.state.quote.quote}\n                  ?\n                </p>\n\n                <form\n                  className=\"form\"\n                  id=\"delete-quote\"\n                  onSubmit={e => {\n                    e.preventDefault();\n                    deleteQuote({\n                      variables: {\n                        id: this.state.quote.id\n                      }\n                    });\n                    this.setState({ showDeleteQuote: false });\n                    alert(\"Quote Deleted\");\n                    this.props.handleClose();\n                  }}\n                >\n                  <button className=\"btn btn-danger\" type=\"submit\">\n                    Delete Quote\n                  </button>\n                </form>\n              </div>\n            )}\n          </Mutation>\n          <button\n            className=\"btn btn-secondary\"\n            onClick={this.handleCloseDeleteQuote}\n          >\n            Cancel\n          </button>\n        </ReactModal>\n      </div>\n    );\n  }\n}\n\nexport default DeleteQuote;"]},"metadata":{},"sourceType":"module"}